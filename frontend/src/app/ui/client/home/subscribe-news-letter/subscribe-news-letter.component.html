<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css">-->

<div #subscribingLoader class="hidden fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
    <div
      [ngClass]="{
      'animate__fadeIn': isShowingLoading,
      'animate__fadeOut': !isShowingLoading
      }"
      (click)="closeLoadingModal()"
      class="animate__faster animate__animated fixed inset-0 dark-overlay transition-opacity" aria-hidden="true"></div>

    <!-- This element is to trick the browser into centering the modal contents. -->
    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

    <div [ngClass]="{
      'animate__fadeIn': isShowingLoading,
      'animate__fadeOut': !isShowingLoading
      }" class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6">

    <!--   A Loading to show that user is being subscribed   -->
      <div [ngClass]="{'hidden': !isSubscribing}" class="flex items-center justify-center">
        <div class="text-center">
          <div class="text-3xl text-gray-900">
<!--            <i class="fas fa-spinner fa-spin"></i>-->
            <div class="h-20 w-20">
              <img src="assets/svg/dark-loading-white.svg" alt="">
            </div>
          </div>
          <p class="mt-2 text-gray-600">
            Subscribing...
          </p>
        </div>
      </div>

      <div [ngClass]="{'hidden': isSubscribing}">
        <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
          <!-- Heroicon name: outline/check -->
          <svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <div class="mt-3 text-center sm:mt-5">
          <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Successfully Subscribed</h3>
          <div class="mt-2">
            <p class="text-sm text-gray-500">Successfully subscribed to our news letter you will get notified everytime there is a new event</p>
          </div>
        </div>
      </div>
      <div class="mt-5 sm:mt-6" [ngClass]="{'hidden': isSubscribing}">
        <button type="button" class="primary-button w-full" (click)="closeLoadingModal()">Close</button>
      </div>
    </div>
  </div>
</div>


<section class="box-border relative block py-20 overflow-hidden leading-6 text-center text-white bg-white bg-no-repeat bg-cover">
  <div class="w-full max-w-2xl px-4 mx-auto leading-6 text-center xl:px-0">
    <div class="box-border flex flex-wrap justify-center -mx-4 text-white">
      <div class="relative w-full px-4 leading-6 text-center xl:flex-grow-0 xl:flex-shrink-0 lg:flex-grow-0 lg:flex-shrink-0">
        <h2 class="box-border px-10 mx-0 mt-0 mb-10 font-sans text-2xl font-bold leading-tight text-black md:px-0 sm:text-3xl md:text-4xl">
          Sign up for our newsletter to receive weekly tips and strategies
        </h2>
        <form method="post" class="box-border text-center text-indigo-900">
          <div class="flex flex-wrap justify-center leading-6 text-indigo-900">
            <div class="box-border relative py-1 pr-1 text-center border-black rounded-full sm:border-2">
              <input #userEmail type="email" placeholder="Your email" class="focus:outline-0 focus:ring-0 inline-block w-full h-16 px-6 py-0 mb-6 overflow-visible text-xl font-medium text-black placeholder-gray-600 align-top bg-transparent border-2 border-purple-500 rounded-full sm:w-auto sm:border-0 sm:mb-0 focus:outline-none md:text-left">
              <button (click)="subscribeUser()" class="inline-block w-full h-16 px-10 py-0 m-0 overflow-visible text-xl font-semibold text-black normal-case align-middle bg-primary border border-transparent border-solid rounded-full cursor-pointer select-none sm:w-auto focus:outline-none focus:shadow-xs">
                Sign Up
              </button>
            </div>
          </div>
          <div class="mt-8 leading-6 text-gray-600">
            By signing up, you agree to the Terms of Service.
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
